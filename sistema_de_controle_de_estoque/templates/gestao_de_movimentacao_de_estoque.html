<!-- templates/gestao_de_movimentacao_de_estoque.html -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Movimentação de Estoque</title>
    <link rel="stylesheet" href="../static/cadastro_de_produtos.css">
</head>
<body>
    <h1>Registro de Movimentações</h1>

    <table border="1">
        <thead>
            <tr>
                <th>ID Produto</th>
                <th>Nome</th>
                <th>Categoria</th>
                <th>Última Movimentação</th>
                <th>Quantidade Movimentada</th>
                <th>Tipo de Movimentação</th>
                <th>Data</th>
            </tr>
        </thead>
        <tbody>
            {% for produto in produtos %}
            <tr>
                <td>{{ produto.pro_id }}</td>
                <td>{{ produto.pro_nome }}</td>
                <td>{{ produto.cat_nome if produto.cat_nome else 'Sem Categoria' }}</td>
                <td>{{ produto.mov_id if produto.mov_id else 'Nenhuma Movimentação' }}</td>
                <td>{{ produto.mov_quantidade if produto.mov_quantidade else '-' }}</td>
                <td>{{ produto.mov_tipo if produto.mov_tipo else '-' }}</td>
                <td>{{ produto.mov_data if produto.mov_data else '-' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table><br><br>

    <p>Fornaça os dados do produto que teve movimentação:</p>

    <form action="registrar_movimentacao" method="post">
        <!-- mov_pro_id: -->
        <label for="mov_pro_id">ID do produto:</label>
        <input type="number" name="mov_pro_id" id="mov_pro_id"><br>
        <!-- mov_tipo: -->
        <label for="mov_tipo">Tipo de movimentação:</label>
        <select name="mov_tipo" id="mov_tipo" required>
            <option value="entrada">Entrada</option>
            <option value="saida">Saída</option>
        </select><br>
        <!-- mov_data: -->
        <label for="mov_data">Data da movimentação:</label>
        <input type="datetime-local" name="mov_data" id="mov_data"><br>
        <!-- mov_quantidade: -->
        <label for="mov_quantidade">Quntidade de Produtos:</label>
        <input type="number" name="mov_quantidade" id="mov_quantidade"><br>

        <input type="submit" value="Registrar">
    </form><br>

    <a href="{{ url_for('home') }}">Voltar à Página Inicial</a><br><br>
</body>
</html>
